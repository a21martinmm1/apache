<VirtualHost *:80>
    ServerName www.omeusitio.lan
    ServerAlias omeusitio.lan
    ServerAdmin a21martinmm1@iessanclemente.net

    DocumentRoot "/opt/web/omeusitio.lan/htdocs"

    <Directory /opt/web/omeusitio.lan/htdocs>
        Require all granted
        AllowOverride AuthConfig FileInfo
        Options Indexes
    </Directory>

    <Directory /opt/web/omeusitio.lan/htdocs/imaxes>
        Require all denied
        <FilesMatch "\.(jpg|jpeg|bmp|gif|png|tiff)$">
            Require all granted
        </FilesMatch>
    </Directory>

    <Directory /opt/web/omeusitio.lan/htdocs/traballadores>
        AuthType Basic
        AuthName "Restrinxido a traballadores"
        AuthBasicProvider file
        AuthUserFile "/opt/web/omeusitio.lan/.htpasswordstraballadores"
        <RequireAny>
            Require user ana
            Require user eva
        </RequireAny>
    </Directory>

    <Directory /opt/web/omeusitio.lan/htdocs/directivos>
        AuthType Digest
        AuthName directivos
        AuthDigestProvider file
        AuthUserFile "/opt/web/omeusitio.lan/.htpasswordsdirectivos"
        <RequireAny>
            Require user xan
            Require user lois
        </RequireAny>
    </Directory>

    <Directory /opt/web/omeusitio.lan/htdocs/contas>
        AllowOverride AuthConfig
    </Directory>

</VirtualHost>
